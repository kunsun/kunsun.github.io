3:I[3099,[],""]
5:I[2506,[],""]
6:I[3637,["177","static/chunks/177-274c75a00d0077d0.js","856","static/chunks/856-e3a3ce37a6ba7291.js","185","static/chunks/app/layout-b234c99f4218b945.js"],"ThemeProvider"]
7:I[2483,["177","static/chunks/177-274c75a00d0077d0.js","856","static/chunks/856-e3a3ce37a6ba7291.js","185","static/chunks/app/layout-b234c99f4218b945.js"],"default"]
4:["slug","https","d"]
0:["PfK52rIU25hVrQueEeDIp",[[["",{"children":["blog",{"children":[["slug","https","d"],{"children":["__PAGE__?{\"slug\":\"https\"}",{}]}]}]},"$undefined","$undefined",true],["",{"children":["blog",{"children":[["slug","https","d"],{"children":["__PAGE__",{},[["$L1","$L2"],null],null]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","blog","children","$4","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":null}],null]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","blog","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":null}],null]},[["$","html",null,{"lang":"zh-CN","suppressHydrationWarning":true,"children":[["$","link",null,{"rel":"icon","href":"/favicon.ico","sizes":"any"}],["$","body",null,{"className":"__variable_c1e5c9 __variable_3a0388","children":["$","$L6",null,{"attribute":"class","children":[["$","$L7",null,{}],["$","main",null,{"className":"flex max-w-2xl w-2xl mx-auto bg-gradient","children":["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":"404"}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],"notFoundStyles":[],"styles":null}]}]]}]}]]}],null],null],[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/e3c2fb5352ee446e.css","precedence":"next","crossOrigin":"$undefined"}]],"$L8"]]]]
8:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","1",{"charSet":"utf-8"}],["$","title","2",{"children":"kunsun.me"}],["$","meta","3",{"name":"description","content":"Generated by create next app"}],["$","meta","4",{"name":"next-size-adjust"}]]
1:null
2:["$","article",null,{"className":"font-mono","children":[["$","h1",null,{"children":"HTTPS学习"}],["$","div",null,{"className":"text-[14px] text-tertiary mt-1","children":"2021-02-02"}],["$","div",null,{"className":"markdown markdown-body mt-10","children":"$L9"}]]}]
9:[["$","p",null,{"className":"text-[14px] text-neutral-100 dark:text-neutral-800 ","children":"这个文章讲的特别清楚：https://juejin.im/post/6844903545272041479"}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":"https 相比 http 在请求前多了一个握手的过程；"}],"\n",["$","li",null,{"children":"在握手时，你和你想访问的网站会交换一个密钥；"}],"\n",["$","li",null,{"children":"握手完成后，你的请求先用密钥加密才会发出去；"}],"\n",["$","li",null,{"children":"网站服务器的响应会先用密钥加密再传给你"}],"\n"]}],"\n",["$","h2",null,{"children":"加密方法"}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":"对称加密： 采用同样的密钥，一个正向加密，另一个反向解密"}],"\n",["$","li",null,{"children":"非对称加密： 如果通信双方都各自持有同一个密钥，且没有别人知道，这两方的通信安全当然是可以被保证的"}],"\n"]}],"\n",["$","h2",null,{"children":"握手"}],"\n",["$","p",null,{"className":"text-[14px] text-neutral-100 dark:text-neutral-800 ","children":"密钥在服务器传输时传递是非常耗时的"}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":"服务器发出一张证书，带着共钥"}],"\n",["$","li",null,{"children":"客户端用公钥加密了一段较短的数据 S， 并返回给服务器"}],"\n",["$","li",null,{"children":"服务器用私钥解开，拿到 S"}],"\n",["$","li",null,{"children":"握手步骤完成，S 成为了一个被安全传输到对方手中的对称加密密钥"}],"\n"]}],"\n",["$","h2",null,{"children":"最大的问题"}],"\n",["$","p",null,{"className":"text-[14px] text-neutral-100 dark:text-neutral-800 ","children":"这个密钥怎么让传输的双方知晓，同时不被别人知道"}],"\n",["$","p",null,{"className":"text-[14px] text-neutral-100 dark:text-neutral-800 ","children":"解决方案 1:\n浏览器只要预存好世界上所有 HTTPS 网站的密钥就行\n结论：\n不现实"}],"\n",["$","h2",null,{"children":"非对称加密+对称加密"}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":"某服务器拥有用于非对称加密的公钥 A、私钥 A'"}],"\n",["$","li",null,{"children":"浏览器像网站服务器请求，服务器把公钥 A 明文给传输浏览器"}],"\n",["$","li",null,{"children":"浏览器随机生成一个用于对称加密的密钥 X，用公钥 A 加密后传给服务器。"}],"\n",["$","li",null,{"children":"服务器拿到后用私钥 A’解密得到密钥 X"}],"\n",["$","li",null,{"children":"这样双方就都拥有密钥 X 了，且别人无法知道它。之后双方所有数据都用密钥 X 加密解密。"}],"\n"]}],"\n",["$","h2",null,{"children":"公信力： 数字证书"}],"\n",["$","p",null,{"className":"text-[14px] text-neutral-100 dark:text-neutral-800 ","children":"从数字证书中拿到共钥"}],"\n",["$","p",null,{"className":"text-[14px] text-neutral-100 dark:text-neutral-800 ","children":"证书防止篡改： 数字签名"}],"\n",["$","p",null,{"className":"text-[14px] text-neutral-100 dark:text-neutral-800 ","children":"数字签名的制作过程："}],"\n",["$","p",null,{"className":"text-[14px] text-neutral-100 dark:text-neutral-800 ","children":"CA 拥有非对称加密的私钥和公钥。\nCA 对证书明文信息进行 hash。\n对 hash 后的值用私钥加密，得到数字签名。"}],"\n",["$","h2",null,{"children":"数字证书浏览器验证过程："}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":"拿到证书，得到明文 T，数字签名 S。"}],"\n",["$","li",null,{"children":"用 CA 机构的公钥对 S 解密（由于是浏览器信任的机构，所以浏览器保有它的公钥。），得到 S’。"}],"\n",["$","li",null,{"children":"用证书里的 hash 算法对明文 T 进行 hash 得到 T’。"}],"\n",["$","li",null,{"children":"比较 S’是否等于 T’，等于则表明证书可信。"}],"\n"]}]]
