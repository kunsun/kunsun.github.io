3:I[3099,[],""]
5:I[2506,[],""]
6:I[3637,["177","static/chunks/177-274c75a00d0077d0.js","856","static/chunks/856-c536f539c242b197.js","185","static/chunks/app/layout-b234c99f4218b945.js"],"ThemeProvider"]
7:I[2483,["177","static/chunks/177-274c75a00d0077d0.js","856","static/chunks/856-c536f539c242b197.js","185","static/chunks/app/layout-b234c99f4218b945.js"],"default"]
4:["slug","fe-performance","d"]
0:["hml4PglGPcx3FGto1gUaT",[[["",{"children":["blog",{"children":[["slug","fe-performance","d"],{"children":["__PAGE__?{\"slug\":\"fe-performance\"}",{}]}]}]},"$undefined","$undefined",true],["",{"children":["blog",{"children":[["slug","fe-performance","d"],{"children":["__PAGE__",{},[["$L1","$L2"],null],null]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","blog","children","$4","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":null}],null]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","blog","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":null}],null]},[["$","html",null,{"lang":"zh-CN","suppressHydrationWarning":true,"children":[["$","link",null,{"rel":"icon","href":"/favicon.ico","sizes":"any"}],["$","body",null,{"className":"__variable_c1e5c9 __variable_3a0388","children":["$","$L6",null,{"attribute":"class","children":[["$","$L7",null,{}],["$","main",null,{"className":"flex max-w-2xl w-2xl mx-auto bg-gradient","children":["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":"404"}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],"notFoundStyles":[],"styles":null}]}]]}]}]]}],null],null],[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/e3c2fb5352ee446e.css","precedence":"next","crossOrigin":"$undefined"}]],"$L8"]]]]
8:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","1",{"charSet":"utf-8"}],["$","title","2",{"children":"kunsun.me"}],["$","meta","3",{"name":"description","content":"Generated by create next app"}],["$","meta","4",{"name":"next-size-adjust"}]]
1:null
2:["$","article",null,{"className":"font-mono","children":[["$","h1",null,{"children":"性能优化"}],["$","div",null,{"className":"text-[14px] text-tertiary mt-1","children":"2021-02-02"}],["$","div",null,{"className":"markdown markdown-body mt-10","children":"$L9"}]]}]
9:[["$","p",null,{"className":"text-[14px] text-neutral-100 dark:text-neutral-800 ","children":"性能优化其实是一个开放式问题，非常依赖实践"}],"\n",["$","blockquote",null,{"children":["\n",["$","p",null,{"className":"text-[14px] text-neutral-100 dark:text-neutral-800 ","children":"前端性能涉及方方面面，优化角度切入点都有所不同。我认为，主要可以分为：页面工程优化和代码细节优化两大方向。"}],"\n"]}],"\n",["$","h2",null,{"children":"页面工程优化"}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":"网络协议"}],"\n",["$","li",null,{"children":"资源配置"}],"\n",["$","li",null,{"children":"浏览器性能"}],"\n",["$","li",null,{"children":"缓存"}],"\n"]}],"\n",["$","p",null,{"className":"text-[14px] text-neutral-100 dark:text-neutral-800 ","children":"单页面应用的按需加载"}],"\n",["$","p",null,{"className":"text-[14px] text-neutral-100 dark:text-neutral-800 ","children":"延迟按需加载是有统计数据支持的"}],"\n",["$","p",null,{"className":"text-[14px] text-neutral-100 dark:text-neutral-800 ","children":"工程优化方向还有："}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":"图片懒加载"}],"\n",["$","li",null,{"children":"合理设置缓存策略"}],"\n",["$","li",null,{"children":"使用 prefetch / preload 预加载等特性"}],"\n",["$","li",null,{"children":"以 tree shaking 手段为主的代码瘦身"}],"\n"]}],"\n",["$","h3",null,{"children":"如果发现页面动画卡顿，有哪些解决办法："}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":"CSS3 动画会比基于 Javascript 动画效率高"}],"\n",["$","li",null,{"children":"在使用 CSS3 实现动画时，考虑开启 GPU 加速"}],"\n",["$","li",null,{"children":"优先使用消耗最低的 transform 和 opacity 两个属性"}],"\n",["$","li",null,{"children":"对于只能使用 JavaScript 实现动画效果的情况，考虑 requestAnimationFrame、requestIdleCallback API"}],"\n",["$","li",null,{"children":"批量进行样式变换，减少布局抖动"}],"\n"]}],"\n",["$","p",null,{"className":"text-[14px] text-neutral-100 dark:text-neutral-800 ","children":"如何理解 requestAnimationFrame 和 60 fps\n如何实现 requestAnimationFrame polyfill\n哪些操作会触发浏览器 reflow（重排）或者 repaint（重绘）\n对于给出的代码，如何进行优化\n如何实现滚动时的节流、防抖函数"}],"\n",["$","h2",null,{"children":"代码细节优化"}],"\n",["$","h3",null,{"children":"布局抖动问题"}],"\n",["$","p",null,{"className":"text-[14px] text-neutral-100 dark:text-neutral-800 ","children":"布局抖动是指 DOM 元素被 JavaScript 多次反复读写，导致文档多次无意义重排。我们知道浏览器很“懒”，它会收集（batch）当前操作，统一进行重排。"}],"\n",["$","h3",null,{"children":"window.requestAnimationFrame"}],"\n",["$","blockquote",null,{"children":["\n",["$","p",null,{"className":"text-[14px] text-neutral-100 dark:text-neutral-800 ","children":"该方法告诉浏览器你希望执行的操作，并请求浏览器在下一次重绘之前调用指定的函数来更新。"}],"\n"]}],"\n",["$","p",null,{"className":"text-[14px] text-neutral-100 dark:text-neutral-800 ","children":"requestAnimationFrame 是在主线程上完成"}],"\n",["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"backgroundColor":"#1E1E1E","color":"#D4D4D4"},"tabIndex":"0","data-language":"js","data-theme":"dark-plus","children":["$","code",null,{"className":"text-sm p-1","children":["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#9CDCFE"},"children":"window"}],["$","span",null,{"style":{"color":"#D4D4D4"},"children":"."}],["$","span",null,{"style":{"color":"#DCDCAA"},"children":"requestAnimationFrame"}],["$","span",null,{"style":{"color":"#D4D4D4"},"children":"("}],["$","span",null,{"style":{"color":"#9CDCFE"},"children":"callback"}],["$","span",null,{"style":{"color":"#D4D4D4"},"children":")"}]]}]}]}]}],"\n",["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"backgroundColor":"#1E1E1E","color":"#D4D4D4"},"tabIndex":"0","data-language":"js","data-theme":"dark-plus","children":["$","code",null,{"className":"text-sm p-1","children":[["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#6A9955"},"children":"// 读"}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#569CD6"},"children":"var"}],["$","span",null,{"style":{"color":"#9CDCFE"},"children":" h1"}],["$","span",null,{"style":{"color":"#D4D4D4"},"children":" = "}],["$","span",null,{"style":{"color":"#9CDCFE"},"children":"element1"}],["$","span",null,{"style":{"color":"#D4D4D4"},"children":"."}],["$","span",null,{"style":{"color":"#9CDCFE"},"children":"clientHeight"}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#6A9955"},"children":"// 写"}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#DCDCAA"},"children":"requestAnimationFrame"}],["$","span",null,{"style":{"color":"#D4D4D4"},"children":"(() "}],["$","span",null,{"style":{"color":"#569CD6"},"children":"=>"}],["$","span",null,{"style":{"color":"#D4D4D4"},"children":" {"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#9CDCFE"},"children":"  element1"}],["$","span",null,{"style":{"color":"#D4D4D4"},"children":"."}],["$","span",null,{"style":{"color":"#9CDCFE"},"children":"style"}],["$","span",null,{"style":{"color":"#D4D4D4"},"children":"."}],["$","span",null,{"style":{"color":"#9CDCFE"},"children":"height"}],["$","span",null,{"style":{"color":"#D4D4D4"},"children":" = "}],["$","span",null,{"style":{"color":"#9CDCFE"},"children":"h1"}],["$","span",null,{"style":{"color":"#D4D4D4"},"children":" * "}],["$","span",null,{"style":{"color":"#B5CEA8"},"children":"2"}],["$","span",null,{"style":{"color":"#D4D4D4"},"children":" + "}],["$","span",null,{"style":{"color":"#CE9178"},"children":"\"px\""}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#D4D4D4"},"children":"})"}]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#6A9955"},"children":"// 读"}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#569CD6"},"children":"var"}],["$","span",null,{"style":{"color":"#9CDCFE"},"children":" h2"}],["$","span",null,{"style":{"color":"#D4D4D4"},"children":" = "}],["$","span",null,{"style":{"color":"#9CDCFE"},"children":"element2"}],["$","span",null,{"style":{"color":"#D4D4D4"},"children":"."}],["$","span",null,{"style":{"color":"#9CDCFE"},"children":"clientHeight"}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#6A9955"},"children":"// 写"}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#DCDCAA"},"children":"requestAnimationFrame"}],["$","span",null,{"style":{"color":"#D4D4D4"},"children":"(() "}],["$","span",null,{"style":{"color":"#569CD6"},"children":"=>"}],["$","span",null,{"style":{"color":"#D4D4D4"},"children":" {"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#9CDCFE"},"children":"  element2"}],["$","span",null,{"style":{"color":"#D4D4D4"},"children":"."}],["$","span",null,{"style":{"color":"#9CDCFE"},"children":"style"}],["$","span",null,{"style":{"color":"#D4D4D4"},"children":"."}],["$","span",null,{"style":{"color":"#9CDCFE"},"children":"height"}],["$","span",null,{"style":{"color":"#D4D4D4"},"children":" = "}],["$","span",null,{"style":{"color":"#9CDCFE"},"children":"h2"}],["$","span",null,{"style":{"color":"#D4D4D4"},"children":" * "}],["$","span",null,{"style":{"color":"#B5CEA8"},"children":"2"}],["$","span",null,{"style":{"color":"#D4D4D4"},"children":" + "}],["$","span",null,{"style":{"color":"#CE9178"},"children":"\"px\""}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#D4D4D4"},"children":"})"}]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#6A9955"},"children":"// 读"}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#569CD6"},"children":"var"}],["$","span",null,{"style":{"color":"#9CDCFE"},"children":" h3"}],["$","span",null,{"style":{"color":"#D4D4D4"},"children":" = "}],["$","span",null,{"style":{"color":"#9CDCFE"},"children":"element3"}],["$","span",null,{"style":{"color":"#D4D4D4"},"children":"."}],["$","span",null,{"style":{"color":"#9CDCFE"},"children":"clientHeight"}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#6A9955"},"children":"// 写"}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#DCDCAA"},"children":"requestAnimationFrame"}],["$","span",null,{"style":{"color":"#D4D4D4"},"children":"(() "}],["$","span",null,{"style":{"color":"#569CD6"},"children":"=>"}],["$","span",null,{"style":{"color":"#D4D4D4"},"children":" {"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#9CDCFE"},"children":"  element3"}],["$","span",null,{"style":{"color":"#D4D4D4"},"children":"."}],["$","span",null,{"style":{"color":"#9CDCFE"},"children":"style"}],["$","span",null,{"style":{"color":"#D4D4D4"},"children":"."}],["$","span",null,{"style":{"color":"#9CDCFE"},"children":"height"}],["$","span",null,{"style":{"color":"#D4D4D4"},"children":" = "}],["$","span",null,{"style":{"color":"#9CDCFE"},"children":"h3"}],["$","span",null,{"style":{"color":"#D4D4D4"},"children":" * "}],["$","span",null,{"style":{"color":"#B5CEA8"},"children":"2"}],["$","span",null,{"style":{"color":"#D4D4D4"},"children":" + "}],["$","span",null,{"style":{"color":"#CE9178"},"children":"\"px\""}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#D4D4D4"},"children":"})"}]}]]}]}]}],"\n",["$","h2",null,{"children":"aync 与 defer 的区别"}],"\n",["$","p",null,{"className":"text-[14px] text-neutral-100 dark:text-neutral-800 ","children":"async 加载完立刻执行，加载 js 与文档可以异步执行， 不考虑依赖，例如 ga\ndefer 是在文档加载之后才执行"}],"\n",["$","p",null,{"className":"text-[14px] text-neutral-100 dark:text-neutral-800 ","children":"fetch 和 ajax 的主要区别\n1、fetch()返回的 promise 将不会拒绝 http 的错误状态，即使响应是一个 HTTP 404 或者 500\n2、在默认情况下 fetch 不会接受或者发送 cookies"}],"\n",["$","p",null,{"className":"text-[14px] text-neutral-100 dark:text-neutral-800 ","children":"reportWebVitals： https://segmentfault.com/a/1190000023223274"}]]
