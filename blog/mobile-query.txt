3:I[3099,[],""]
5:I[2506,[],""]
6:I[3637,["177","static/chunks/177-274c75a00d0077d0.js","856","static/chunks/856-e3a3ce37a6ba7291.js","185","static/chunks/app/layout-b234c99f4218b945.js"],"ThemeProvider"]
7:I[2483,["177","static/chunks/177-274c75a00d0077d0.js","856","static/chunks/856-e3a3ce37a6ba7291.js","185","static/chunks/app/layout-b234c99f4218b945.js"],"default"]
4:["slug","mobile-query","d"]
0:["i9D5EcKWLaaSIRmoYtUaQ",[[["",{"children":["blog",{"children":[["slug","mobile-query","d"],{"children":["__PAGE__?{\"slug\":\"mobile-query\"}",{}]}]}]},"$undefined","$undefined",true],["",{"children":["blog",{"children":[["slug","mobile-query","d"],{"children":["__PAGE__",{},[["$L1","$L2"],null],null]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","blog","children","$4","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":null}],null]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","blog","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":null}],null]},[["$","html",null,{"lang":"zh-CN","suppressHydrationWarning":true,"children":[["$","link",null,{"rel":"icon","href":"/favicon.ico","sizes":"any"}],["$","body",null,{"className":"__variable_c1e5c9 __variable_3a0388","children":["$","$L6",null,{"attribute":"class","children":[["$","$L7",null,{}],["$","main",null,{"className":"flex max-w-2xl w-2xl mx-auto bg-gradient","children":["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":"404"}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],"notFoundStyles":[],"styles":null}]}]]}]}]]}],null],null],[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/e3c2fb5352ee446e.css","precedence":"next","crossOrigin":"$undefined"}]],"$L8"]]]]
8:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","1",{"charSet":"utf-8"}],["$","title","2",{"children":"kunsun.me"}],["$","meta","3",{"name":"description","content":"Generated by create next app"}],["$","meta","4",{"name":"next-size-adjust"}]]
1:null
2:["$","main",null,{"className":"font-mono","children":[["$","h1",null,{"children":"移动端UI适配"}],["$","div",null,{"className":"text-[14px] text-tertiary mt-1","children":"2021-02-02"}],["$","div",null,{"className":"markdown mt-10","children":"$L9"}]]}]
9:[["$","p",null,{"className":"text-[14px] text-neutral-100 dark:text-neutral-800 ","children":"参考文章："}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":["\n",["$","p",null,{"className":"text-[14px] text-neutral-100 dark:text-neutral-800 ","children":"https://juejin.im/post/5d736747e51d4561ff66688c"}],"\n"]}],"\n",["$","li",null,{"children":["\n",["$","p",null,{"className":"text-[14px] text-neutral-100 dark:text-neutral-800 ","children":"https://juejin.im/post/5cddf289f265da038f77696c#heading-28"}],"\n"]}],"\n",["$","li",null,{"children":["\n",["$","p",null,{"className":"text-[14px] text-neutral-100 dark:text-neutral-800 ","children":"https://www.kancloud.cn/chandler/web_app/1477878"}],"\n"]}],"\n",["$","li",null,{"children":["\n",["$","p",null,{"className":"text-[14px] text-neutral-100 dark:text-neutral-800 ","children":"https://www.kancloud.cn/chandler/web_app/591334"}],"\n"]}],"\n",["$","li",null,{"children":["\n",["$","p",null,{"className":"text-[14px] text-neutral-100 dark:text-neutral-800 ","children":"https://github.com/jawil/blog/issues/21"}],"\n"]}],"\n",["$","li",null,{"children":["\n",["$","p",null,{"className":"text-[14px] text-neutral-100 dark:text-neutral-800 ","children":"https://developer.mozilla.org/zh-CN/docs/Web/API/Window/devicePixelRatio"}],"\n"]}],"\n",["$","li",null,{"children":["\n",["$","p",null,{"className":"text-[14px] text-neutral-100 dark:text-neutral-800 ","children":"http://www.alloyteam.com/2016/03/mobile-web-adaptation-tool-rem/"}],"\n"]}],"\n",["$","li",null,{"children":["\n",["$","p",null,{"className":"text-[14px] text-neutral-100 dark:text-neutral-800 ","children":"https://zhuanlan.zhihu.com/p/31713047"}],"\n"]}],"\n"]}],"\n",["$","h2",null,{"children":"先熟悉几个概念"}],"\n",["$","h3",null,{"children":"像素"}],"\n",["$","p",null,{"className":"text-[14px] text-neutral-100 dark:text-neutral-800 ","children":"一个像素通常被视为影像的最小的完整取样。打印机的物理像素等于打印机的墨点。"}],"\n",["$","h3",null,{"children":"物理像素"}],"\n",["$","p",null,{"className":"text-[14px] text-neutral-100 dark:text-neutral-800 ","children":"也称为设备像素，每个设备的像素都是固定的，如 iphone5： 640 * 1136，一个物理像素是显示器的最小物理显示单元。 单位是 pt"}],"\n",["$","h3",null,{"children":"逻辑像素"}],"\n",["$","p",null,{"className":"text-[14px] text-neutral-100 dark:text-neutral-800 ","children":"=== CSS 像素。是图像的基本采样单位\n=== 设备独立像素\n=== 设备无关的逻辑像素"}],"\n",["$","h3",null,{"children":"devicePixelRatio，简称 dpr"}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":"当前显示设备的物理像素分辨率与 CSS 像素分辨率的比值：设备像素比（dpr）= 屏幕物理像素（dp）/ CSS 像素"}],"\n",["$","li",null,{"children":"设备像素比 （dpr）=物理像素（pp） / 设备独立像素（dip）"}],"\n"]}],"\n",["$","h3",null,{"children":"document.documentElement.clientWidth"}],"\n",["$","p",null,{"className":"text-[14px] text-neutral-100 dark:text-neutral-800 ","children":"大多数移动端设备都默认 980px"}],"\n",["$","h3",null,{"children":"屏幕分辨率"}],"\n",["$","p",null,{"className":"text-[14px] text-neutral-100 dark:text-neutral-800 ","children":"屏幕分辨率指的是物理像素，而不是理想视口。"}],"\n",["$","h3",null,{"children":"dpi or ppi"}],"\n",["$","h3",null,{"children":"移动端浏览器渲染在一个 viewport 的页面中的"}],"\n",["$","h3",null,{"children":"window.innerHeight / window.innerWidth"}],"\n",["$","p",null,{"className":"text-[14px] text-neutral-100 dark:text-neutral-800 ","children":"可视区域"}],"\n",["$","p",null,{"className":"text-[14px] text-neutral-100 dark:text-neutral-800 ","children":"screen.height 屏幕高度 >= screen.availHeight 屏幕可用高度 >= window.outerHeight 浏览器高度 >= window.innerHeight 浏览器可用高度 >= document.documentElement.clientHeight body 展示高度，去除了滚动条"}],"\n",["$","p",null,{"className":"text-[14px] text-neutral-100 dark:text-neutral-800 ","children":"还有一个概念，body.offsetHeight：页面 body 总高度"}],"\n",["$","h3",null,{"children":"viewport 是容纳 html 的元素"}],"\n",["$","p",null,{"className":"text-[14px] text-neutral-100 dark:text-neutral-800 ","children":"document.documentElement 是指 viewport 的"}],"\n",["$","h2",null,{"children":"适配方案"}],"\n",["$","p",null,{"className":"text-[14px] text-neutral-100 dark:text-neutral-800 ","children":"需要解决的两个问题："}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":"各终端下的适配问题"}],"\n",["$","li",null,{"children":"Retina 屏的细节处理"}],"\n"]}],"\n",["$","p",null,{"className":"text-[14px] text-neutral-100 dark:text-neutral-800 ","children":"引用 flexible："}],"\n",["$","blockquote",null,{"children":["\n",["$","p",null,{"className":"text-[14px] text-neutral-100 dark:text-neutral-800 ","children":"由于 viewport 单位得到众多浏览器的兼容，lib-flexible 这个过渡方案已经可以放弃使用，不管是现在的版本还是以前的版本，都存有一定的问题。建议大家开始使用 viewport 来替代此方。"}],"\n"]}],"\n",["$","h2",null,{"children":"视图"}],"\n",["$","p",null,{"className":"text-[14px] text-neutral-100 dark:text-neutral-800 ","children":"viewport 基本上是当前文档的可见部分"}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":"布局视口(layout viewport)"}],"\n",["$","li",null,{"children":"视觉视口(visual viewport)"}],"\n",["$","li",null,{"children":"理想视口 ideal viewport"}],"\n"]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"text-sm p-1","children":"<meta name=\"viewport\" content=\"width=\" />\n"}]}],"\n",["$","h3",null,{"children":"布局视口"}],"\n",["$","p",null,{"className":"text-[14px] text-neutral-100 dark:text-neutral-800 ","children":"移动端，布局视口宽度默认为 980px，使得 pc 端页面可以在手机中呈现，默认会缩小页面，使得在一屏幕中展示这个页面。\nmeta 中设置的 width 指的是布局视口的宽度，即 document.documentELement.clientWidth。\ncss 媒体查询的宽度也是指布局视口宽度。"}],"\n",["$","h3",null,{"children":"视觉视口"}],"\n",["$","p",null,{"className":"text-[14px] text-neutral-100 dark:text-neutral-800 ","children":"用户在移动设备屏幕上能看到的那部分区域。 当前浏览器可用视图包括滚动条"}],"\n",["$","h3",null,{"children":"理想视口"}],"\n",["$","p",null,{"className":"text-[14px] text-neutral-100 dark:text-neutral-800 ","children":"布局视口明显对用户是不友好的，完全忽略了手机本身的尺寸。\n就是手机屏幕的大小，screen.width"}],"\n",["$","p",null,{"className":"text-[14px] text-neutral-100 dark:text-neutral-800 ","children":"【设计稿】：设计师给的 750px 宽的设计稿是根据设备像素（device pixel，物理像素）为单位制作的设计稿。\n【web 页面编写】：前端工程师在编码 web 页面时所写的 CSS 像素 则需要根据 设备像素比 来进行换算。"}],"\n",["$","h2",null,{"children":"如何做移动端尺寸自适应"}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":"直接将 width 设置为设计稿尺寸 1080，缺点是影响媒体查询"}],"\n",["$","li",null,{"children":"用 inital-scale 整体缩小画布，布局尺寸变大，即容纳的 css 像素变多。采用依据 dpr 动态改变，放大布局视图宽度 width == screen.width * dpr。"}],"\n"]}],"\n",["$","p",null,{"className":"text-[14px] text-neutral-100 dark:text-neutral-800 ","children":"设置 initial-scale 值为 0.5，那么 layout viewport 的大小就是 ideal viewport 的两倍。"}],"\n",["$","p",null,{"className":"text-[14px] text-neutral-100 dark:text-neutral-800 ","children":"页面被用户放大，视觉视口内 CSS 像素数量减少；被用户缩小，视觉视口内 CSS 像素数量增多就行了。\ninitial-scale=1 与 width=device-width 的效果是一样的"}]]
